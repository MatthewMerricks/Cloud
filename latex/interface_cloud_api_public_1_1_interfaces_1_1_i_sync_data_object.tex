\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object}{\section{Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object Interface Reference}
\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object}\index{Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object}}
}


Interface to implement on an event source to pass to a Sync\-Engine; do not use any instance of an implementor for more than one Sync\-Engine  




Inherited by Cloud\-Api\-Public.\-File\-Monitor.\-Sync\-Implementation.\-Sync\-Data.

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_cloud_api_public_1_1_model_1_1_c_l_error}{C\-L\-Error} \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a817534319f57345b85736142e5b36b44}{Wipe\-Index} (string new\-Root\-Path)
\begin{DoxyCompactList}\small\item\em ¡¡ Call this carefully, completely wipes index database (use when user deletes local repository or relinks) !! \end{DoxyCompactList}\item 
\hyperlink{class_cloud_api_public_1_1_model_1_1_c_l_error}{C\-L\-Error} \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a77804f09d03674f67d7808a4cfd09b25}{Record\-Completed\-Sync} (string sync\-Id, I\-Enumerable$<$ long $>$ synced\-Event\-Ids, out long sync\-Counter, \hyperlink{class_cloud_api_public_1_1_model_1_1_file_path}{File\-Path} new\-Root\-Path=null)
\begin{DoxyCompactList}\small\item\em Writes a new set of sync states to the database after a sync completes, requires new\-Root\-Path to be set on the first sync or on any sync with a new root path \end{DoxyCompactList}\item 
\hyperlink{class_cloud_api_public_1_1_model_1_1_c_l_error}{C\-L\-Error} \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a137b9a4ce8e5ec066bd55933d9d4ed2f}{grab\-Changes\-From\-File\-System\-Monitor} (I\-Enumerable$<$ \hyperlink{struct_cloud_api_public_1_1_model_1_1_possibly_preexisting_file_change_in_error}{Possibly\-Preexisting\-File\-Change\-In\-Error} $>$ initial\-Failures, out I\-Enumerable$<$ \hyperlink{struct_cloud_api_public_1_1_model_1_1_possibly_streamable_file_change}{Possibly\-Streamable\-File\-Change} $>$ output\-Changes, out I\-Enumerable$<$ \hyperlink{struct_cloud_api_public_1_1_model_1_1_possibly_preexisting_file_change_in_error}{Possibly\-Preexisting\-File\-Change\-In\-Error} $>$ output\-Changes\-In\-Error)
\begin{DoxyCompactList}\small\item\em Callback from Sync\-Engine to retrieve events to process, with dependencies assigned; output\-Changes\-In\-Error should have true for Is\-Preexisting if and only if the error was passed in input via initial\-Failures; output\-Changes should have only File\-Changes without dependencies (highest level changes) and should contain a stream if it is a change requiring a file upload (do not include a stream for file upload for any dependencies underneath) \end{DoxyCompactList}\item 
\hyperlink{class_cloud_api_public_1_1_model_1_1_c_l_error}{C\-L\-Error} \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a0a80f822f5f543cc84ff07c1c9ac2a23}{merge\-To\-Sql} (I\-Enumerable$<$ \hyperlink{struct_cloud_api_public_1_1_model_1_1_file_change_merge}{File\-Change\-Merge} $>$ merge\-To\-Froms)
\begin{DoxyCompactList}\small\item\em Callback from Sync\-Engine for updating database with changes to File\-Changes \end{DoxyCompactList}\item 
\hyperlink{class_cloud_api_public_1_1_model_1_1_c_l_error}{C\-L\-Error} \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_aa1863eed2344565068c951e0c4c0c22e}{add\-Changes\-To\-Processing\-Queue} (I\-Enumerable$<$ \hyperlink{class_cloud_api_public_1_1_model_1_1_file_change}{File\-Change} $>$ to\-Add, bool insert\-At\-Top, Generic\-Holder$<$ List$<$ \hyperlink{class_cloud_api_public_1_1_model_1_1_file_change}{File\-Change} $>$$>$ error\-Holder)
\begin{DoxyCompactList}\small\item\em Callback from Sync\-Engine for adding reprocessing failures or previously dependent File\-Changes to queue for next Sync\-Engine Run (should return these changes on a subsequent call to grab\-Changes\-From\-File\-System\-Monitor) \end{DoxyCompactList}\item 
\hyperlink{class_cloud_api_public_1_1_model_1_1_c_l_error}{C\-L\-Error} \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_aa702b66aae31ba25cc10138182944db7}{complete\-Sync\-Sql} (string sync\-Id, I\-Enumerable$<$ long $>$ synced\-Event\-Ids, out long sync\-Counter, string new\-Root\-Path=null)
\begin{DoxyCompactList}\small\item\em Callback from Sync\-Engine upon completion of the primary \hyperlink{namespace_cloud_api_public_1_1_sync}{Sync} logic with a sync id to store along with ids of events which were completed in the process; must output an incrementing counter to record all syncs; if a new\-Root\-Path is provided and different from the previous root, update accordingly \end{DoxyCompactList}\item 
\hyperlink{class_cloud_api_public_1_1_model_1_1_c_l_error}{C\-L\-Error} \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a2b36076284fea39198c49ac28decae44}{dependency\-Assignment} (I\-Enumerable$<$ \hyperlink{struct_cloud_api_public_1_1_model_1_1_possibly_streamable_file_change}{Possibly\-Streamable\-File\-Change} $>$ to\-Assign, I\-Enumerable$<$ \hyperlink{class_cloud_api_public_1_1_model_1_1_file_change}{File\-Change} $>$ current\-Failures, out I\-Enumerable$<$ \hyperlink{struct_cloud_api_public_1_1_model_1_1_possibly_streamable_file_change}{Possibly\-Streamable\-File\-Change} $>$ output\-Changes, out I\-Enumerable$<$ \hyperlink{class_cloud_api_public_1_1_model_1_1_file_change}{File\-Change} $>$ output\-Failures)
\begin{DoxyCompactList}\small\item\em Callback from Sync\-Engine to assign dependencies between provided processing changes (to\-Assign), current\-Failures, and any events queued in the event source for the next grab\-Changes\-From\-File\-System\-Monitor callback; For events pulled from the queue for the next grab\-Changes\-From\-File\-System\-Monitor callback into one of the outputs, make sure to not return them on the next grab\-Changes\-From\-File\-System\-Monitor callback unless added back again via add\-Changes\-To\-Processing\-Queue callback; Any streams which are not returned in output\-Changes (at the highest level only) should be disposed \end{DoxyCompactList}\item 
\hyperlink{class_cloud_api_public_1_1_model_1_1_c_l_error}{C\-L\-Error} \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a2508ef227c6b6a7e0222a575df30f53c}{apply\-Sync\-From\-Change} (\hyperlink{class_cloud_api_public_1_1_model_1_1_file_change}{File\-Change} to\-Apply)
\begin{DoxyCompactList}\small\item\em Callback from Sync\-Engine to perform the action of a File\-Change locally (i.\-e. for a \hyperlink{namespace_cloud_api_public_1_1_sync}{Sync} From Folder Creation, actually create the folder on disk); May include moving a downloaded file from a temporary download path (outside the root directoy) to somewhere within the root directory; Make sure to create parent folders as needed to handle the current change; Do not return resulting events back on subsequent calls to grab\-Changes\-From\-File\-System\-Monitor \end{DoxyCompactList}\item 
\hyperlink{class_cloud_api_public_1_1_model_1_1_c_l_error}{C\-L\-Error} \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_aeda55123f350e80434eb202601316828}{complete\-Single\-Event} (long event\-Id)
\begin{DoxyCompactList}\small\item\em Callback from Sync\-Engine to complete a single File\-Change as of the last sync (used for asynchronously completed operations file upload and file download) \end{DoxyCompactList}\item 
\hyperlink{class_cloud_api_public_1_1_model_1_1_c_l_error}{C\-L\-Error} \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_ac9ff5ecaa81c07f9e19785db2c4d2368}{get\-Metadata\-By\-Path\-And\-Revision} (string path, string revision, out \hyperlink{class_cloud_api_public_1_1_model_1_1_file_metadata}{File\-Metadata} metadata)
\begin{DoxyCompactList}\small\item\em Callback from Sync\-Engine to retrieve the latest file metadata for a given full path and revision; if not found output null instead of returning an error for not found \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
string \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a1e0e4f15f93fce38eb008953eb1dd477}{get\-Last\-Sync\-Id}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\begin{DoxyCompactList}\small\item\em Should return the latest recorded sync id (from latest callback of complete\-Sync\-Sql), return null or \char`\"{}0\char`\"{} if no syncs have been previously recorded \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Interface to implement on an event source to pass to a Sync\-Engine; do not use any instance of an implementor for more than one Sync\-Engine 

\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_sec}{}\subsection{Overview}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_sec}
Overview of \hyperlink{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object}{I\-Sync\-Data\-Object}\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_subSec1}{}\subsubsection{Examples}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_subSec1}
Here is an example\-:


\begin{DoxyCode}
\textcolor{keyword}{using} CloudApiPublic.Interfaces;

\textcolor{keyword}{public} sealed \textcolor{keyword}{class }EventSource : ISyncDataObject
\{
    \textcolor{comment}{// my interface methods here!}
\}
\end{DoxyCode}
 

\subsection{Member Function Documentation}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_aa1863eed2344565068c951e0c4c0c22e}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!add\-Changes\-To\-Processing\-Queue@{add\-Changes\-To\-Processing\-Queue}}
\index{add\-Changes\-To\-Processing\-Queue@{add\-Changes\-To\-Processing\-Queue}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{add\-Changes\-To\-Processing\-Queue}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-Error} Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-add\-Changes\-To\-Processing\-Queue (
\begin{DoxyParamCaption}
\item[{I\-Enumerable$<$ {\bf File\-Change} $>$}]{to\-Add, }
\item[{bool}]{insert\-At\-Top, }
\item[{Generic\-Holder$<$ List$<$ {\bf File\-Change} $>$$>$}]{error\-Holder}
\end{DoxyParamCaption}
)}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_aa1863eed2344565068c951e0c4c0c22e}


Callback from Sync\-Engine for adding reprocessing failures or previously dependent File\-Changes to queue for next Sync\-Engine Run (should return these changes on a subsequent call to grab\-Changes\-From\-File\-System\-Monitor) 


\begin{DoxyParams}{Parameters}
{\em to\-Add} & Enumerable of File\-Changes to queue for next Sync\-Engine Run\\
\hline
{\em insert\-At\-Top} & Whether these new changes should come back first on next Sync\-Engine Run (as opposed to placing on bottom)\\
\hline
{\em error\-Holder} & A holder containing a List of File\-Changes which should be appended with changes which cannot be added back to the processing queue; Value property of holder should start at null so on first append create a new list to set the Value\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Should return any error that occurred while adding File\-Changes, should not throw the exception
\end{DoxyReturn}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a2508ef227c6b6a7e0222a575df30f53c}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!apply\-Sync\-From\-Change@{apply\-Sync\-From\-Change}}
\index{apply\-Sync\-From\-Change@{apply\-Sync\-From\-Change}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{apply\-Sync\-From\-Change}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-Error} Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-apply\-Sync\-From\-Change (
\begin{DoxyParamCaption}
\item[{{\bf File\-Change}}]{to\-Apply}
\end{DoxyParamCaption}
)}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a2508ef227c6b6a7e0222a575df30f53c}


Callback from Sync\-Engine to perform the action of a File\-Change locally (i.\-e. for a \hyperlink{namespace_cloud_api_public_1_1_sync}{Sync} From Folder Creation, actually create the folder on disk); May include moving a downloaded file from a temporary download path (outside the root directoy) to somewhere within the root directory; Make sure to create parent folders as needed to handle the current change; Do not return resulting events back on subsequent calls to grab\-Changes\-From\-File\-System\-Monitor 


\begin{DoxyParams}{Parameters}
{\em to\-Apply} & File\-Change to perform\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Should return any error that occurred while performing the File\-Change
\end{DoxyReturn}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_aeda55123f350e80434eb202601316828}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!complete\-Single\-Event@{complete\-Single\-Event}}
\index{complete\-Single\-Event@{complete\-Single\-Event}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{complete\-Single\-Event}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-Error} Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-complete\-Single\-Event (
\begin{DoxyParamCaption}
\item[{long}]{event\-Id}
\end{DoxyParamCaption}
)}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_aeda55123f350e80434eb202601316828}


Callback from Sync\-Engine to complete a single File\-Change as of the last sync (used for asynchronously completed operations file upload and file download) 


\begin{DoxyParams}{Parameters}
{\em to\-Apply} & Id of a single File\-Change to mark complete\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Should return any error that occurred while marking a File\-Change complete, should not throw any exception
\end{DoxyReturn}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_aa702b66aae31ba25cc10138182944db7}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!complete\-Sync\-Sql@{complete\-Sync\-Sql}}
\index{complete\-Sync\-Sql@{complete\-Sync\-Sql}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{complete\-Sync\-Sql}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-Error} Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-complete\-Sync\-Sql (
\begin{DoxyParamCaption}
\item[{string}]{sync\-Id, }
\item[{I\-Enumerable$<$ long $>$}]{synced\-Event\-Ids, }
\item[{out long}]{sync\-Counter, }
\item[{string}]{new\-Root\-Path = {\ttfamily null}}
\end{DoxyParamCaption}
)}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_aa702b66aae31ba25cc10138182944db7}


Callback from Sync\-Engine upon completion of the primary \hyperlink{namespace_cloud_api_public_1_1_sync}{Sync} logic with a sync id to store along with ids of events which were completed in the process; must output an incrementing counter to record all syncs; if a new\-Root\-Path is provided and different from the previous root, update accordingly 


\begin{DoxyParams}{Parameters}
{\em sync\-Id} & New sync id to store (should be returned on get\-Last\-Sync\-Id on next call)\\
\hline
{\em synced\-Event\-Ids} & Ids of events which were completed\\
\hline
{\em sync\-Counter} & (output) Incrementing counter to record all syncs\\
\hline
{\em new\-Root\-Path} & (optional) If provided and different from the previous root, make sure to update accordingly\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Should return any error that occurred while marking sync completion, should not throw the exception
\end{DoxyReturn}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a2b36076284fea39198c49ac28decae44}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!dependency\-Assignment@{dependency\-Assignment}}
\index{dependency\-Assignment@{dependency\-Assignment}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{dependency\-Assignment}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-Error} Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-dependency\-Assignment (
\begin{DoxyParamCaption}
\item[{I\-Enumerable$<$ {\bf Possibly\-Streamable\-File\-Change} $>$}]{to\-Assign, }
\item[{I\-Enumerable$<$ {\bf File\-Change} $>$}]{current\-Failures, }
\item[{out I\-Enumerable$<$ {\bf Possibly\-Streamable\-File\-Change} $>$}]{output\-Changes, }
\item[{out I\-Enumerable$<$ {\bf File\-Change} $>$}]{output\-Failures}
\end{DoxyParamCaption}
)}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a2b36076284fea39198c49ac28decae44}


Callback from Sync\-Engine to assign dependencies between provided processing changes (to\-Assign), current\-Failures, and any events queued in the event source for the next grab\-Changes\-From\-File\-System\-Monitor callback; For events pulled from the queue for the next grab\-Changes\-From\-File\-System\-Monitor callback into one of the outputs, make sure to not return them on the next grab\-Changes\-From\-File\-System\-Monitor callback unless added back again via add\-Changes\-To\-Processing\-Queue callback; Any streams which are not returned in output\-Changes (at the highest level only) should be disposed 


\begin{DoxyParams}{Parameters}
{\em to\-Assign} & Processing changes (may have dependencies)\\
\hline
{\em current\-Failures} & Current failures which would be reprocessed later (may have dependencies)\\
\hline
{\em output\-Changes} & (output) Changes without dependencies (highest level) to process only with original streams from to\-Assign input (do not start new streams); dependencies should have no streams\\
\hline
{\em output\-Failures} & (output) Changes which will be placed back into the failure queue for reprocessing later\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Should return any error that occurred while rebuilding the dependency trees, should not throw any exception
\end{DoxyReturn}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_ac9ff5ecaa81c07f9e19785db2c4d2368}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!get\-Metadata\-By\-Path\-And\-Revision@{get\-Metadata\-By\-Path\-And\-Revision}}
\index{get\-Metadata\-By\-Path\-And\-Revision@{get\-Metadata\-By\-Path\-And\-Revision}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{get\-Metadata\-By\-Path\-And\-Revision}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-Error} Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-get\-Metadata\-By\-Path\-And\-Revision (
\begin{DoxyParamCaption}
\item[{string}]{path, }
\item[{string}]{revision, }
\item[{out {\bf File\-Metadata}}]{metadata}
\end{DoxyParamCaption}
)}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_ac9ff5ecaa81c07f9e19785db2c4d2368}


Callback from Sync\-Engine to retrieve the latest file metadata for a given full path and revision; if not found output null instead of returning an error for not found 


\begin{DoxyParams}{Parameters}
{\em path} & Full path to the file\\
\hline
{\em revision} & Previous revision of the file\\
\hline
{\em metadata} & (output) The retrieved metadata for the file\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Should return any error that occurred while retrieving the file metadata, should not throw any exception
\end{DoxyReturn}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a137b9a4ce8e5ec066bd55933d9d4ed2f}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!grab\-Changes\-From\-File\-System\-Monitor@{grab\-Changes\-From\-File\-System\-Monitor}}
\index{grab\-Changes\-From\-File\-System\-Monitor@{grab\-Changes\-From\-File\-System\-Monitor}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{grab\-Changes\-From\-File\-System\-Monitor}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-Error} Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-grab\-Changes\-From\-File\-System\-Monitor (
\begin{DoxyParamCaption}
\item[{I\-Enumerable$<$ {\bf Possibly\-Preexisting\-File\-Change\-In\-Error} $>$}]{initial\-Failures, }
\item[{out I\-Enumerable$<$ {\bf Possibly\-Streamable\-File\-Change} $>$}]{output\-Changes, }
\item[{out I\-Enumerable$<$ {\bf Possibly\-Preexisting\-File\-Change\-In\-Error} $>$}]{output\-Changes\-In\-Error}
\end{DoxyParamCaption}
)}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a137b9a4ce8e5ec066bd55933d9d4ed2f}


Callback from Sync\-Engine to retrieve events to process, with dependencies assigned; output\-Changes\-In\-Error should have true for Is\-Preexisting if and only if the error was passed in input via initial\-Failures; output\-Changes should have only File\-Changes without dependencies (highest level changes) and should contain a stream if it is a change requiring a file upload (do not include a stream for file upload for any dependencies underneath) 


\begin{DoxyParams}{Parameters}
{\em initial\-Failures} & Passed in failures that were previously queued for reprocessing, to be used to merge in possible dependencies from new events (may have dependencies)\\
\hline
{\em output\-Changes} & (output) Highest level File\-Changes and necessary Streams to process (without dependencies)\\
\hline
{\em output\-Changes\-In\-Error} & (output) Highest level File\-Changes to be queued for error processing\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Should return any error that occured while grabbing events, should not throw the exception
\end{DoxyReturn}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a0a80f822f5f543cc84ff07c1c9ac2a23}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!merge\-To\-Sql@{merge\-To\-Sql}}
\index{merge\-To\-Sql@{merge\-To\-Sql}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{merge\-To\-Sql}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-Error} Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-merge\-To\-Sql (
\begin{DoxyParamCaption}
\item[{I\-Enumerable$<$ {\bf File\-Change\-Merge} $>$}]{merge\-To\-Froms}
\end{DoxyParamCaption}
)}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a0a80f822f5f543cc84ff07c1c9ac2a23}


Callback from Sync\-Engine for updating database with changes to File\-Changes 


\begin{DoxyParams}{Parameters}
{\em merge\-To\-Froms} & Enumerable of File\-Changes to merge into database\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Should return any error that occurred while updating the database, should not throw the exception
\end{DoxyReturn}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a77804f09d03674f67d7808a4cfd09b25}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!Record\-Completed\-Sync@{Record\-Completed\-Sync}}
\index{Record\-Completed\-Sync@{Record\-Completed\-Sync}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{Record\-Completed\-Sync}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-Error} Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-Record\-Completed\-Sync (
\begin{DoxyParamCaption}
\item[{string}]{sync\-Id, }
\item[{I\-Enumerable$<$ long $>$}]{synced\-Event\-Ids, }
\item[{out long}]{sync\-Counter, }
\item[{{\bf File\-Path}}]{new\-Root\-Path = {\ttfamily null}}
\end{DoxyParamCaption}
)}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a77804f09d03674f67d7808a4cfd09b25}


Writes a new set of sync states to the database after a sync completes, requires new\-Root\-Path to be set on the first sync or on any sync with a new root path 


\begin{DoxyParams}{Parameters}
{\em sync\-Id} & New sync Id from server\\
\hline
{\em synced\-Event\-Ids} & Enumerable of event ids processed in sync\\
\hline
{\em sync\-Counter} & Output sync counter local identity\\
\hline
{\em new\-Root\-Path} & Optional new root path for location of sync root, must be set on first sync\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns an error that occurred during recording the sync, if any
\end{DoxyReturn}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a817534319f57345b85736142e5b36b44}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!Wipe\-Index@{Wipe\-Index}}
\index{Wipe\-Index@{Wipe\-Index}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{Wipe\-Index}]{\setlength{\rightskip}{0pt plus 5cm}{\bf C\-L\-Error} Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-Wipe\-Index (
\begin{DoxyParamCaption}
\item[{string}]{new\-Root\-Path}
\end{DoxyParamCaption}
)}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a817534319f57345b85736142e5b36b44}


¡¡ Call this carefully, completely wipes index database (use when user deletes local repository or relinks) !! 


\begin{DoxyParams}{Parameters}
{\em new\-Root\-Path} & Full path string to directory to sync without any trailing slash (except for drive letter root)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns any error that occurred while wiping the database index
\end{DoxyReturn}


\subsection{Property Documentation}
\hypertarget{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a1e0e4f15f93fce38eb008953eb1dd477}{\index{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}!get\-Last\-Sync\-Id@{get\-Last\-Sync\-Id}}
\index{get\-Last\-Sync\-Id@{get\-Last\-Sync\-Id}!CloudApiPublic::Interfaces::ISyncDataObject@{Cloud\-Api\-Public\-::\-Interfaces\-::\-I\-Sync\-Data\-Object}}
\subsubsection[{get\-Last\-Sync\-Id}]{\setlength{\rightskip}{0pt plus 5cm}string Cloud\-Api\-Public.\-Interfaces.\-I\-Sync\-Data\-Object.\-get\-Last\-Sync\-Id\hspace{0.3cm}{\ttfamily [get]}}}\label{interface_cloud_api_public_1_1_interfaces_1_1_i_sync_data_object_a1e0e4f15f93fce38eb008953eb1dd477}


Should return the latest recorded sync id (from latest callback of complete\-Sync\-Sql), return null or \char`\"{}0\char`\"{} if no syncs have been previously recorded 



The documentation for this interface was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
Cloud\-Api\-Public/\-Interfaces/I\-Sync\-Data\-Object.\-cs\end{DoxyCompactItemize}
